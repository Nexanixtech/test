<!DOCTYPE html>

<html lang="en">
<head><link as_="style" href="styles.css" rel="preload"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Category Products - Technovation</title>
<link href="/public/tecpn.png" rel="shortcut icon" type="image/x-icon"/>
<link href="styles.css" rel="stylesheet"/>

<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&amp;family=Poppins:wght@400;500;600;700&amp;family=Roboto:wght@400;500&amp;family=Oswald:wght@700&amp;display=swap" rel="stylesheet"/>  <link rel="stylesheet" href="animation.css">
</head>
<body>
<div class="loader-container" id="loader">
<div class="loader"></div>
</div>
<!-- First Navigation Bar -->
<!-- First Navigation Bar -->
<nav class="navbar">
<div class="container">
<div class="logo">
<a href="index.html">
<img alt="Technovation Logo" loading="lazy" src="/public/techno black logo-Photoroom.png"/>
</a>
</div>
<div class="search-container">
<form action="/search" class="search-form" method="GET">
<input class="search-input" id="navSearch" maxlength="256" name="query" placeholder="Search…" required="" type="search"/>
<button class="search-button" type="submit">
<svg fill="currentColor" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
</svg>
</button>
<div class="search-results" id="searchResults"></div>
</form>
</div>
<!-- Mobile Search Icon -->
<div class="search-icon-mobile">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
</svg>
</div>
<div class="menu-toggle">
<span class="bar"></span>
<span class="bar"></span>
<span class="bar"></span>
</div>
</div>
</nav>
<!-- White separator -->
<div class="white-separator"></div>
<div class="nav-container">
<div class="main-navbar">
<!-- Categories Navigation for Desktop -->
<div class="desktop-category-navbar">
<ul class="category-list" id="desktopCategories">
<!-- Categories will be loaded here dynamically -->
</ul>
</div>
</div>
<!-- Mobile Categories Menu (hidden by default) -->
<div class="mobile-category-menu">
<ul class="mobile-category-list" id="mobileCategories">
<!-- Categories will be loaded here dynamically -->
</ul>
</div>
<!-- Mobile Search Form (hidden by default) -->
<div class="mobile-search-container">
<form action="/search" class="mobile-search-form" method="GET">
<input class="mobile-search-input" id="mobileNavSearch" maxlength="256" name="query" placeholder="Search…" required="" type="search"/>
<button class="mobile-search-button" type="submit">
<svg fill="currentColor" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
</svg>
</button>
<div class="close-search-button">
<svg fill="currentColor" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
</svg>
</div>
<div class="search-results" id="mobileSearchResults"></div>
</form>
</div>
</div>
<style>
        .search-results {
            position: absolute;
            background: #fff;
            width: 100%;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px 0;
            z-index: 1000;
        }

        .search-result-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            text-decoration: none;
            color: #000;
            transition: background 0.2s;
        }

        .search-result-item:hover {
            background: #f1f1f1;
        }

        .search-result-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 15px;
        }

        .search-result-info {
            display: flex;
            flex-direction: column;
        }

        .search-result-info h4 {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
        }

        .search-result-info p {
            margin: 2px 0 0 0;
            font-size: 14px;
            color: #666;
        }
    </style>
<style>
        .mobile-search-container .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            z-index: 1001;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .mobile-search-container .search-results.active {
            display: block;
        }

        .mobile-search-container .search-result-item {
            display: flex;
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-decoration: none;
            color: #333;
        }

        .mobile-search-container .search-result-item:hover {
            background-color: #f9f9f9;
        }

        .mobile-search-container .search-result-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            margin-right: 10px;
        }

        .mobile-search-container .search-result-info h4 {
            margin: 0;
            font-size: 14px;
        }

        .mobile-search-container .search-result-info p {
            margin: 5px 0 0;
            font-size: 12px;
            color: #666;
        }
    </style>
<!-- White separator -->
<div class="white-separator"></div>
<!-- Category Banner -->
<section class="banner-section">
<div class="banner-overlay">
<h1 class="banner-title" id="categoryTitle">Loading...</h1>
<div class="breadcrumb">
<a href="./index.html">Home</a>
<span class="breadcrumb-separator">›</span>
<span class="current-page" id="categoryName">Loading...</span>
</div>
</div>
</section>
<!-- Category Products Grid -->
<section class="category-products">
<div class="container">
<div id="categoryProducts">
<!-- Products will be loaded here dynamically -->
</div>
</div>
</section>
<!-- Footer -->
<footer class="tech-footer">
<div class="footer-container">
<div class="footer-left">
<div class="footer-logo">
<img alt="Technovation" loading="lazy" src="/public/techno black logo-Photoroom.png"/>
</div>
<p class="footer-description">
                    With over a decade of experience, we are proud to deliver innovative products to clients around the
                    globe.
                </p>
<div class="footer-contact-info">
<p class="contact-item">
<i class="fa-solid fa-map-marker-alt contact-icon"></i>
                        Tamil nadu - 627416
                    </p>
<p class="contact-item">
<i class="fa-solid fa-envelope contact-icon"></i>
                        techtechnovation@gmail.com
                    </p>
<p class="contact-item">
<i class="fa-solid fa-phone contact-icon"></i>
                        7339224811
                    </p>
</div>
</div>
<div class="footer-right">
<h2 class="footer-section-title">Sections</h2>
<div class="footer-divider"></div>
<ul class="footer-links">
<li>
<i class="fa-solid fa-chevron-right arrow-icon"></i>
<a href="./index.html">Home</a>
</li>
<li>
<i class="fa-solid fa-chevron-right arrow-icon"></i>
<a href="./index.html#prod-section">Products</a>
</li>
</ul>
</div>
</div>
</footer>
<div class="footer-navbar">
<div class="copyright">© Copyright - <a class="company-link" href="https://technovationpvtltd.com/">Technovation</a></div>
</div>
<!-- WhatsApp Floating Button -->
<div class="whatsapp-float">
<div class="thought-bubble" id="thoughtBubble">
           Contact us for Custom Robots
        </div>
<button class="whatsapp-button" id="whatsappButton">
<i class="fab fa-whatsapp"></i>
</button>
</div>
<!-- WhatsApp Modal -->
<div class="whatsapp-modal" id="whatsappModal">
<div class="whatsapp-modal-content">
<div class="whatsapp-modal-header">
<div class="whatsapp-profile">
<img alt="Technovation" loading="lazy" src="/public/techno black logo-Photoroom.png"/>
<div class="whatsapp-profile-info">
<h3>Technovation</h3>
<p>Online</p>
</div>
</div>
<button class="close-modal" id="closeWhatsappModal">×</button>
</div>
<div class="whatsapp-modal-body">
<p>Hi! How can we help you today?</p>
</div>
<div class="whatsapp-modal-footer">
<a class="whatsapp-chat-button" href="https://wa.me/917339224811" target="_blank">
<i class="fab fa-whatsapp"></i> Start Chat
                </a>
</div>
</div>
</div>
<style>
        .thought-bubble {
            position: absolute;
            right: 60px;
            bottom: 35px;
            width: 120px;
            height: auto;
            background-color: white;
            border: 2px solid #075E54;
            border-radius: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            text-align: center;
            padding: 8px 10px;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #075E54;
            font-weight: 600;
        }

        /* Create the small circles connecting the bubble to the button */
        .thought-bubble::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -10px;
            width: 10px;
            height: 10px;
            background-color: white;
            border-right: 2px solid #075E54;
            border-bottom: 2px solid #075E54;
            transform: rotate(-45deg) translateY(-50%);
        }

        /* WhatsApp Floating Button Styles */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .whatsapp-button {
            width: 60px;
            height: 60px;
            background-color: #25D366;
            border-radius: 50%;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .whatsapp-button:hover {
            transform: scale(1.1);
        }

        .whatsapp-button i {
            font-size: 32px;
            color: white;
        }

        /* WhatsApp Modal Styles */
        .whatsapp-modal {
            display: none;
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 300px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .whatsapp-modal.active {
            display: block;
        }

        .whatsapp-modal-content {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .whatsapp-modal-header {
            background-color: #075E54;
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .whatsapp-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .whatsapp-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            background-color: #f0f0f0;
        }

        .whatsapp-profile-info h3 {
            margin: 0;
            font-size: 16px;
        }

        .whatsapp-profile-info p {
            margin: 0;
            font-size: 12px;
            opacity: 0.8;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .whatsapp-modal-body {
            padding: 15px;
            background-color: #ECE5DD;
            flex-grow: 1;
        }

        .whatsapp-modal-body p {
            margin: 0;
            color: #075E54;
            font-size: 14px;
        }

        .whatsapp-modal-footer {
            padding: 15px;
            background-color: #F0F0F0;
            border-radius: 0 0 10px 10px;
        }

        .whatsapp-chat-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background-color: #25D366;
            color: white;
            padding: 12px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }

        .whatsapp-chat-button:hover {
            background-color: #128C7E;
        }

        .whatsapp-chat-button i {
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
            }

            .whatsapp-button {
                width: 50px;
                height: 50px;
            }

            .whatsapp-button i {
                font-size: 28px;
            }
            
            .thought-bubble {
                right: 50px;
                bottom: 30px;
                width: 100px;
                font-size: 12px;
            }

            .whatsapp-modal {
                bottom: 80px;
                right: 20px;
                width: 280px;
            }
        }
    </style>
<style>/* Category Products Grid Container */
        #categoryProducts {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            border: 15px solid white;
            gap: 0; /* Remove gap since we'll use borders for separation */
        }
        
        /* Individual Product Card */
        .product-card-link {
            text-decoration: none;
            width: calc(33.33% - 1px); /* Adjust width to account for borders */
            position: relative;
        }
        
        /* Dynamic grid adjustment based on number of products */
        .product-card-link:only-child {
            width: 100%;
            max-width: 400px; /* Increased from 300px */
        }
        
        .product-card-link:first-child:nth-last-child(2),
        .product-card-link:first-child:nth-last-child(2) ~ .product-card-link {
            width: calc(50% - 1px);
        }
        
        /* Vertical separator lines */
        .product-card-link:not(:last-child)::after {
            content: "";
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            height: 80%;
            width: 1px;
            background-color: #555;
        }
        
        /* Remove border for last item in each row (3 columns) */
        .product-card-link:nth-child(3n)::after {
            display: none;
        }
        
        /* For 2-column layout, override the 3n rule */
        .product-card-link:first-child:nth-last-child(2) ~ .product-card-link:nth-child(even)::after,
        .product-card-link:first-child:nth-last-child(2)::after:nth-child(odd) {
            display: none;
        }
        
        /* Product card styling */
        .product-card {
            border-radius: 16px;
            padding: 1.5rem; /* Increased padding */
            text-align: center;
            transition: transform 0.3s ease;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .product-card:hover {
            transform: translateY(-4px);
        }
        
        .product-image-container {
            width: 100%;
            max-width: 250px; /* Increased from 180px */
            height: 250px; /* Increased from 180px */
            overflow: hidden;
            border-radius: 12px;
            margin-bottom: 1.5rem; /* Increased spacing */
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }
        
        .product-title {
            font-size: 2rem; /* Increased from 1rem */
            font-weight: 800; /* Bolder than before */
            color: #111;
            margin: 0 0 0.75rem 0; /* Increased bottom margin */
        }
        
        .product-subtitle {
            font-size: 18px; /* Increased from 0.85rem */
           
            color: #666; /* Slightly darker for better visibility */
            margin: 0;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .product-card-link,
            .product-card-link:first-child:nth-last-child(2),
            .product-card-link:first-child:nth-last-child(2) ~ .product-card-link {
                width: calc(50% - 1px);
            }
            
            /* Reset the 3n rule for 2-column layout */
            .product-card-link:nth-child(3n)::after {
                display: block;
            }
            
            /* Remove separator for last item in each row (2 columns) */
            .product-card-link:nth-child(2n)::after {
                display: none;
            }
            
            .product-image-container {
                max-width: 200px;
                height: 200px;
            }
            
            .product-title {
                font-size: 1.2rem;
            }
            
            .product-subtitle {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .product-card-link,
            .product-card-link:first-child:nth-last-child(2),
            .product-card-link:first-child:nth-last-child(2) ~ .product-card-link {
                width: 100%;
            }
            
            /* No separators needed for single column layout */
            .product-card-link::after {
                display: none !important;
            }
        }
    </style>
<script src="script.js"></script>
<script type="module">
        import { supabase } from './supabase.js'

        // Show/hide loader
        function showLoader() {
            document.getElementById('loader').style.display = 'flex'
        }

        function hideLoader() {
            document.getElementById('loader').style.display = 'none'
        }

        // Get category name from URL
        const urlParams = new URLSearchParams(window.location.search)
        const categoryName = urlParams.get('name')

        if (!categoryName) {
            window.location.href = 'index.html'
        }

        // Load category products
        async function loadCategoryProducts() {
            showLoader();
            try {
                const { data: categories, error: categoryError } = await supabase
                    .from('categories')
                    .select('*')
                    .eq('name', categoryName);
        
                if (categoryError) throw categoryError;
        
                if (!categories || categories.length === 0) {
                    throw new Error('Category not found');
                }
        
                const category = categories[0];
        
                // Set page title and headings
                document.title = `${category.name} Products - Technovation`;
                document.getElementById('categoryTitle').textContent = `${category.name} Products`;
                document.getElementById('categoryName').textContent = category.name;
        
                const { data: products, error: productsError } = await supabase
                    .from('products')
                    .select('*')
                    .eq('category', category.id)
                    .order('created_at', { ascending: false });
        
                if (productsError) throw productsError;
        
                const productsGrid = document.getElementById('categoryProducts');
        
                productsGrid.innerHTML = products.map(product => {
                    return `
                      <a href="./product.html?id=${product.id}" class="product-card-link">
                        <div class="product-card">
                          <div class="product-image-container">
                            <img src="${product.main_image}" alt="${product.title}" class="product-image">
                          </div>
                          <h3 class="product-title">${product.title}</h3>
                          <p class="product-subtitle">${product.subtitle}</p>
                        </div>
                      </a>
                    `;
                }).join('');
        
            } catch (error) {
                console.error('Error loading category products:', error);
                alert('Error loading products. Please try again.');
            } finally {
                hideLoader();
            }
        }


        // Load categories for navigation
        async function loadCategories() {
            try {
                const { data: categories, error } = await supabase
                    .from('categories')
                    .select('*')
                    .order('name')

                if (error) throw error

                // Update desktop categories
                const desktopCategories = document.getElementById('desktopCategories')
                desktopCategories.innerHTML = categories.map(category => `
    <li class="category-item">
        <a href="./category.html?name=${encodeURIComponent(category.name)}" class="category-link">
            <div class="category-icon-container">
                ${category.image_url
                        ? `<img src="${category.image_url}" class="category-icon" alt="${category.name}">`
                        : `<div class="no-icon-placeholder"></div>`
                    }
            </div>
            <span class="category-name">${category.name}</span>
            ${category.is_new ? '<span class="category-tag">New</span>' : ''}
        </a>
    </li>
`).join('')

                // Update mobile categories
                const mobileCategories = document.getElementById('mobileCategories')
                mobileCategories.innerHTML = categories.map(category => `
                <li class="mobile-category-item">
                    <a href="./category.html?name=${encodeURIComponent(category.name)}" class="mobile-category-link">
                        <div class="category-icon-container">
                            ${category.image_url
                        ? `<img src="${category.image_url}" class="category-icon" alt="${category.name}">`
                        : `<div class="no-icon-placeholder"></div>`
                    }
                        </div>
                        <span class="category-name">${category.name}</span>
                        ${category.is_new ? '<span class="mobile-category-tag">New</span>' : ''}
                    </a>
                </li>
            `).join('')
            } catch (error) {
                console.error('Error loading categories:', error)
            }
        }

        // Load data when page loads
        loadCategoryProducts()
        loadCategories()
        const mobileSearchInput = document.getElementById('mobileNavSearch')
        const mobileSearchResults = document.getElementById('mobileSearchResults')
        let mobileSearchTimeout

        // Handle mobile search input event
        mobileSearchInput.addEventListener('input', (e) => {
            clearTimeout(mobileSearchTimeout)
            const query = e.target.value.trim()

            if (query.length < 2) {
                mobileSearchResults.style.display = 'none'
                return
            }

            mobileSearchTimeout = setTimeout(async () => {
                try {
                    const { data: products, error } = await supabase
                        .from('products')
                        .select('*')
                        .ilike('title', `%${query}%`)
                        .limit(5)

                    if (error) throw error

                    if (products.length > 0) {
                        mobileSearchResults.innerHTML = products
                            .map(
                                (product) => `
                        <a href="./product.html?id=${product.id}" class="search-result-item">
                            <img src="${product.main_image}" alt="${product.title}">
                            <div class="search-result-info">
                                <h4>${product.title}</h4>
                                <p>${product.subtitle}</p>
                            </div>
                        </a>
                    `
                            )
                            .join('')
                        mobileSearchResults.style.display = 'block'
                    } else {
                        mobileSearchResults.innerHTML = '<div class="no-results">No products found</div>'
                        mobileSearchResults.style.display = 'block'
                    }
                } catch (error) {
                    console.error('Error searching products:', error)
                }
            }, 300)
        })

        // Close mobile search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileSearchInput.contains(e.target) && !mobileSearchResults.contains(e.target)) {
                mobileSearchResults.style.display = 'none'
            }
        })

        // Handle mobile search form submission
        document.querySelector('.mobile-search-form').addEventListener('submit', (e) => {
            e.preventDefault()
            const query = mobileSearchInput.value.trim()
            if (query) {
                window.location.href = `#`
            }
        })
        const searchInput = document.getElementById('navSearch')
        const searchResults = document.getElementById('searchResults')
        let searchTimeout

        // Handle search input event
        searchInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout)
            const query = e.target.value.trim()

            if (query.length < 2) {
                searchResults.style.display = 'none'
                return
            }

            searchTimeout = setTimeout(async () => {
                try {
                    const { data: products, error } = await supabase
                        .from('products')
                        .select('*')
                        .ilike('title', `%${query}%`)
                        .limit(5)

                    if (error) throw error

                    if (products.length > 0) {
                        searchResults.innerHTML = products
                            .map(
                                (product) => `
                        <a href="./product.html?id=${product.id}" class="search-result-item">
                            <img src="${product.main_image}" alt="${product.title}">
                            <div class="search-result-info">
                                <h4>${product.title}</h4>
                                <p>${product.subtitle}</p>
                            </div>
                        </a>
                    `
                            )
                            .join('')
                        searchResults.style.display = 'block'
                    } else {
                        searchResults.innerHTML = '<div class="no-results">No products found</div>'
                        searchResults.style.display = 'block'
                    }
                } catch (error) {
                    console.error('Error searching products:', error)
                }
            }, 300)
        })

        // Close search results when clicking outside (for desktop & mobile)
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none'
            }
        })

        document.addEventListener('touchstart', (e) => {
            if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none'
            }
        })

        // Handle search submission
        document.querySelector('.search-form').addEventListener('submit', (e) => {
            e.preventDefault()
            const query = searchInput.value.trim()
            if (query) {
                window.location.href = `#`
            }
        })

        // Mobile search functionality toggle
        const searchIconMobile = document.querySelector('.search-icon-mobile')
        const mobileSearchContainer = document.querySelector('.mobile-search-container')
        const closeSearchButton = document.querySelector('.close-search-button')

        // Show mobile search
        searchIconMobile.addEventListener('click', () => {
            mobileSearchContainer.classList.add('active')
            document.querySelector('.overlay').classList.add('active')
        })

        // Close mobile search
        closeSearchButton.addEventListener('click', () => {
            mobileSearchContainer.classList.remove('active')
            document.querySelector('.overlay').classList.remove('active')
        })

        // Handle category toggle on mobile/tablet
        const categoryMenuButton = document.querySelector('.categories-menu-button')
        const mobileCategoryMenu = document.querySelector('.mobile-category-menu')

        categoryMenuButton.addEventListener('click', () => {
            mobileCategoryMenu.classList.toggle('active')
        })

        const whatsappButton = document.getElementById('whatsappButton');
        const whatsappModal = document.getElementById('whatsappModal');
        const closeWhatsappModal = document.getElementById('closeWhatsappModal');
        const thoughtBubble = document.getElementById('thoughtBubble');

        // When WhatsApp button is clicked
        whatsappButton.addEventListener('click', () => {
            whatsappModal.classList.add('active');
            // Hide thought bubble when opening modal
            thoughtBubble.style.display = 'none';
        });

        // When close button is clicked
        closeWhatsappModal.addEventListener('click', () => {
            whatsappModal.classList.remove('active');
            // Show thought bubble when closing modal
            thoughtBubble.style.display = 'flex';
        });

        // Close modal when clicking outside
        document.addEventListener('click', (e) => {
            if (!whatsappModal.contains(e.target) && !whatsappButton.contains(e.target)) {
                whatsappModal.classList.remove('active');
                // Show thought bubble when closing modal
                thoughtBubble.style.display = 'flex';
            }
        });
    </script>
<script src="mouse.js"></script>
</body>
</html>